<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h3 id="using">Using</h3>
<pre><code>npm install --save-dev expect</code></pre>
<p>{: .-setup}</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// using ES6 modules</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="im">import</span> expect<span class="op">,</span> <span class="op">{</span> createSpy<span class="op">,</span> spyOn<span class="op">,</span> isSpy <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;expect&#39;</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// using CommonJS modules</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">var</span> expect <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;expect&#39;</span>)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">var</span> createSpy <span class="op">=</span> <span class="va">expect</span>.<span class="at">createSpy</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">var</span> spyOn <span class="op">=</span> <span class="va">expect</span>.<span class="at">spyOn</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">var</span> isSpy <span class="op">=</span> <span class="va">expect</span>.<span class="at">isSpy</span></a></code></pre></div>
<p>Expect is a library for assertions in tests. See: <a href="https://github.com/mjackson/expect">mjackson/expect</a></p>
<h3 id="assertions">Assertions</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="at">expect</span>(x).<span class="at">toBe</span>(y)</a>
<a class="sourceLine" id="cb4-2" title="2">  .<span class="at">toBe</span>(val)</a>
<a class="sourceLine" id="cb4-3" title="3">  .<span class="at">toEqual</span>(val)</a>
<a class="sourceLine" id="cb4-4" title="4">  .<span class="at">toThrow</span>(err)</a>
<a class="sourceLine" id="cb4-5" title="5">  .<span class="at">toExist</span>()          <span class="co">// aka: toBeTruthy()</span></a>
<a class="sourceLine" id="cb4-6" title="6">  .<span class="at">toNotExist</span>()       <span class="co">// aka: toBeFalsy()</span></a>
<a class="sourceLine" id="cb4-7" title="7">  .<span class="at">toBeA</span>(constructor)</a>
<a class="sourceLine" id="cb4-8" title="8">  .<span class="at">toBeA</span>(<span class="st">&#39;string&#39;</span>)</a>
<a class="sourceLine" id="cb4-9" title="9">  .<span class="at">toMatch</span>(<span class="ss">/expr/</span>)</a>
<a class="sourceLine" id="cb4-10" title="10">  .<span class="at">toBeLessThan</span>(n)</a>
<a class="sourceLine" id="cb4-11" title="11">  .<span class="at">toBeGreaterThan</span>(n)</a>
<a class="sourceLine" id="cb4-12" title="12">  .<span class="at">toBeLessThanOrEqualTo</span>(n)</a>
<a class="sourceLine" id="cb4-13" title="13">  .<span class="at">toBeGreaterThanOrEqualTo</span>(n)</a>
<a class="sourceLine" id="cb4-14" title="14">  .<span class="at">toInclude</span>(val)     <span class="co">// aka: toContain(val)</span></a>
<a class="sourceLine" id="cb4-15" title="15">  .<span class="at">toExclude</span>(val)</a>
<a class="sourceLine" id="cb4-16" title="16">  .<span class="at">toIncludeKey</span>(key)</a>
<a class="sourceLine" id="cb4-17" title="17">  .<span class="at">toExcludeKey</span>(key)</a></code></pre></div>
<p>Also: <code>toNotBe</code>, <code>toNotEqual</code>, etc for negatives.</p>
<h3 id="chaining-assertions">Chaining assertions</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">expect</span>(<span class="fl">3.14</span>)</a>
<a class="sourceLine" id="cb5-2" title="2">  .<span class="at">toExist</span>()</a>
<a class="sourceLine" id="cb5-3" title="3">  .<span class="at">toBeLessThan</span>(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb5-4" title="4">  .<span class="at">toBeGreaterThan</span>(<span class="dv">3</span>)</a></code></pre></div>
<p>Assertions can be chained.</p>
<h3 id="spies">Spies</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> video <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="dt">play</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span> ··· <span class="op">}</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>{: .-setup}</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1">spy <span class="op">=</span> <span class="va">expect</span>.<span class="at">spyOn</span>(video<span class="op">,</span> <span class="st">&#39;play&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1">spy <span class="op">=</span> <span class="va">expect</span>.<span class="at">spyOn</span>(···)</a>
<a class="sourceLine" id="cb8-2" title="2">  .<span class="at">andCallThrough</span>()      <span class="co">// pass through</span></a>
<a class="sourceLine" id="cb8-3" title="3">  .<span class="at">andCall</span>(fn)</a>
<a class="sourceLine" id="cb8-4" title="4">  .<span class="at">andThrow</span>(exception)</a>
<a class="sourceLine" id="cb8-5" title="5">  .<span class="at">andReturn</span>(value)</a></code></pre></div>
<h3 id="assertions-on-spies">Assertions on spies</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="at">expect</span>(<span class="va">spy</span>.<span class="va">calls</span>.<span class="at">length</span>).<span class="at">toEqual</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="at">expect</span>(<span class="va">spy</span>.<span class="at">calls</span>[<span class="dv">0</span>].<span class="at">context</span>).<span class="at">toBe</span>(video)</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="at">expect</span>(<span class="va">spy</span>.<span class="at">calls</span>[<span class="dv">0</span>].<span class="at">arguments</span>).<span class="at">toEqual</span>([ <span class="st">&#39;some&#39;</span><span class="op">,</span> <span class="st">&#39;args&#39;</span> ])</a>
<a class="sourceLine" id="cb9-4" title="4"><span class="at">expect</span>(<span class="va">spy</span>.<span class="at">getLastCall</span>().<span class="at">arguments</span>).<span class="at">toEqual</span>(...)</a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="at">expect</span>(spy).<span class="at">toHaveBeenCalled</span>()</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="at">expect</span>(spy).<span class="at">toHaveBeenCalledWith</span>(<span class="st">&#39;some&#39;</span><span class="op">,</span> <span class="st">&#39;args&#39;</span>)</a></code></pre></div>
<h3 id="references">References</h3>
<ul>
<li><a href="https://www.npmjs.com/package/expect" class="uri">https://www.npmjs.com/package/expect</a></li>
<li><a href="https://github.com/mjackson/expect" class="uri">https://github.com/mjackson/expect</a></li>
</ul>
</body></html>
