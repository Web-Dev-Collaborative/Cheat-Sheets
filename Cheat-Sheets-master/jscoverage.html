<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h3 id="install">Install</h3>
<h4 id="install-via-npm">Install via npm</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">npm</span> install --save-dev jscoverage</a></code></pre></div>
<h4 id="ignore-output">Ignore output</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="bu">echo</span> coverage.html <span class="op">&gt;&gt;</span> .gitignore</a></code></pre></div>
<h3 id="package.json">package.json</h3>
<p>The <code>coverage</code> task injects your source files (<code>lib</code>) with jscoverage hooks, runs <code>mocha -R html-cov</code>, then restores later. {: .-setup}</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="ex">/*</span> directory */</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">&quot;coverage&quot;</span>: <span class="st">&quot;mv lib lib~; (jscoverage lib~ lib; mocha -R html-cov &gt; coverage.html); rm -rf lib; mv lib~ lib&quot;</span></a></code></pre></div>
<p>{: .-hard-wrap}</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="ex">/*</span> single file */</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="st">&quot;coverage&quot;</span>: <span class="st">&quot;(cp index.js index.js~; jscoverage index.js; mv index-cov.js index.js; mocha -R html-cov &gt; coverage.html); mv index.js~ index.js&quot;</span></a></code></pre></div>
<p>{: .-hard-wrap}</p>
<h3 id="run">Run</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="ex">npm</span> run coverage</a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="ex">open</span> coverage.html</a></code></pre></div>
<h3 id="caveats">Caveats</h3>
<p>If youâ€™re using jsdom, be sure to expose the <code>window._$jscoverage</code> variable into the <code>global</code> scope.</p>
</body></html>
